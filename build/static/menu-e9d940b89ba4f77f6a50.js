webpackJsonp([1],{57:function(e,t){"use strict";var n={source:{title:"源代码",disabled:!1},separator:{disabled:!1},undo:{title:"撤销",disabled:!1},redo:{title:"重做",disabled:!1},bold:{title:"加粗",disabled:!1},italic:{title:"斜线",disabled:!1},underline:{title:"下划线",disabled:!1},strikethrough:{title:"删除线",disabled:!1},superscript:{title:"上标",disabled:!1},subscript:{title:"下标",disabled:!1},forecolor:{title:"字体颜色",disabled:!1},backcolor:{title:"背景色",disabled:!1},removeformat:{title:"清除格式",disabled:!1},insertunorderedlist:{title:"无序列表",disabled:!1},insertorderedlist:{title:"有序列表",disabled:!1},selectall:{title:"全选",disabled:!1},cleardoc:{title:"清空文档",disabled:!1},paragraph:{title:"段落格式",disabled:!1},fontfamily:{title:"字体",disabled:!1},fontsize:{title:"字号",disabled:!1},justifyleft:{title:"居左对齐",disabled:!1},justifycenter:{title:"居中对齐",disabled:!1},justifyright:{title:"居右对齐",disabled:!1},link:{title:"超链接",disabled:!1},unlink:{title:"取消链接",disabled:!1},emotion:{title:"表情",disabled:!1},image:{title:"图片",disabled:!1},video:{title:"视频",disabled:!1},map:{title:"百度地图",disabled:!1},horizontal:{title:"分隔线",disabled:!1},print:{title:"打印",disabled:!1},preview:{title:"预览",disabled:!1},drafts:{title:"草稿箱",disabled:!1},formula:{title:"数学公式",disabled:!1},inserttable:{title:"插入表格",disabled:!1},touppercase:{title:"转换大写",disabled:!1},tolowercase:{title:"转换小写",disabled:!1},indent:{title:"增加缩进",disabled:!1},outdent:{title:"减少缩进",disabled:!1},spechars:{title:"特殊符号",disabled:!1},fontborder:{title:"字体边框",disabled:!1},date:{title:"插入日期",disabled:!1},time:{title:"插入时间",disabled:!1},emphasis:{title:"着重号",disabled:!1}},o={themeColors:[["#fff","#000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646"],["#f2f2f2","7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada"],["#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5"],["#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f"],["#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09"],["#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806"]],standardColors:["#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"]},a={commonFormulas:[{backgroundPosition:"-0px -0px",latex:"\\frac{ }{ }"},{backgroundPosition:"-30px -0px",latex:"^{ }/_{ }"},{backgroundPosition:"-60px -0px",latex:"x^{ }"},{backgroundPosition:"-90px -0px",latex:"x_{ }"},{backgroundPosition:"-120px -0px",latex:"x^{ }_{ }"},{backgroundPosition:"-150px -0px",latex:"\\bar{ }"},{backgroundPosition:"-180px -0px",latex:"\\sqrt{ }"},{backgroundPosition:"-210px -0px",latex:"\\nthroot{ }{ }"},{backgroundPosition:"-0px -30px",latex:"\\sum^{ }_{n=}"},{backgroundPosition:"-60px -30px",latex:"\\log_{ }"},{backgroundPosition:"-90px -30px",latex:"\\ln"},{backgroundPosition:"-120px -30px",latex:"\\int_{ }^{ }"},{backgroundPosition:"-150px -30px",latex:"\\oint_{ }^{ }"}],symbolFormulas:[{backgroundPosition:"-0px -60px",latex:"+"},{backgroundPosition:"-30px -60px",latex:"-"},{backgroundPosition:"-60px -60px",latex:"\\pm"},{backgroundPosition:"-90px -60px",latex:"\\times"},{backgroundPosition:"-120px -60px",latex:"\\ast"},{backgroundPosition:"-150px -60px",latex:"\\div"},{backgroundPosition:"-180px -60px",latex:"/"},{backgroundPosition:"-210px -60px",latex:"\\bigtriangleup"},{backgroundPosition:"-0px -90px",latex:"="},{backgroundPosition:"-30px -90px",latex:"\\ne"},{backgroundPosition:"-60px -90px",latex:"\\approx"},{backgroundPosition:"-90px -90px",latex:">"},{backgroundPosition:"-120px -90px",latex:"<"},{backgroundPosition:"-150px -90px",latex:"\\ge"},{backgroundPosition:"-180px -90px",latex:"\\le"},{backgroundPosition:"-210px -90px",latex:"\\infty"},{backgroundPosition:"-0px -120px",latex:"\\cap"},{backgroundPosition:"-30px -120px",latex:"\\cup"},{backgroundPosition:"-60px -120px",latex:"\\because"},{backgroundPosition:"-90px -120px",latex:"\\therefore"},{backgroundPosition:"-120px -120px",latex:"\\subset"},{backgroundPosition:"-150px -120px",latex:"\\supset"},{backgroundPosition:"-180px -120px",latex:"\\subseteq"},{backgroundPosition:"-210px -120px",latex:"\\supseteq"},{backgroundPosition:"-0px -150px",latex:"\\nsubseteq"},{backgroundPosition:"-30px -150px",latex:"\\nsupseteq"},{backgroundPosition:"-60px -150px",latex:"\\in"},{backgroundPosition:"-90px -150px",latex:"\\ni"},{backgroundPosition:"-120px -150px",latex:"\\notin"},{backgroundPosition:"-150px -150px",latex:"\\mapsto"},{backgroundPosition:"-180px -150px",latex:"\\leftarrow"},{backgroundPosition:"-210px -150px",latex:"\\rightarrow"},{backgroundPosition:"-0px -180px",latex:"\\Leftarrow"},{backgroundPosition:"-30px -180px",latex:"\\Rightarrow"},{backgroundPosition:"-60px -180px",latex:"\\leftrightarrow"},{backgroundPosition:"-90px -180px",latex:"\\Leftrightarrow"}],arabicFormulas:[{backgroundPosition:"-0px -210px",latex:"\\alpha"},{backgroundPosition:"-30px -210px",latex:"\\beta"},{backgroundPosition:"-60px -210px",latex:"\\gamma"},{backgroundPosition:"-90px -210px",latex:"\\delta"},{backgroundPosition:"-120px -210px",latex:"\\varepsilon"},{backgroundPosition:"-150px -210px",latex:"\\varphi"},{backgroundPosition:"-180px -210px",latex:"\\lambda"},{backgroundPosition:"-210px -210px",latex:"\\mu"},{backgroundPosition:"-0px -240px",latex:"\\rho"},{backgroundPosition:"-30px -240px",latex:"\\sigma"},{backgroundPosition:"-60px -240px",latex:"\\omega"},{backgroundPosition:"-90px -240px",latex:"\\Gamma"},{backgroundPosition:"-120px -240px",latex:"\\Delta"},{backgroundPosition:"-150px -240px",latex:"\\Theta"},{backgroundPosition:"-180px -240px",latex:"\\Lambda"},{backgroundPosition:"-210px -240px",latex:"\\Xi"},{backgroundPosition:"-0px -270px",latex:"\\Pi"},{backgroundPosition:"-30px -270px",latex:"\\Sigma"},{backgroundPosition:"-60px -270px",latex:"\\Upsilon"},{backgroundPosition:"-90px -270px",latex:"\\Phi"},{backgroundPosition:"-120px -270px",latex:"\\Psi"},{backgroundPosition:"-150px -270px",latex:"\\Omega"}]},r=function(e){return e.split(",")},i=[{name:"tsfh",title:"特殊字符",chars:r("、,。,·,ˉ,ˇ,¨,〃,々,—,～,‖,…,‘,’,“,”,〔,〕,〈,〉,《,》,「,」,『,』,〖,〗,【,】,±,×,÷,∶,∧,∨,∑,∏,∪,∩,∈,∷,√,⊥,∥,∠,⌒,⊙,∫,∮,≡,≌,≈,∽,∝,≠,≮,≯,≤,≥,∞,∵,∴,♂,♀,°,′,″,℃,＄,¤,￠,￡,‰,§,№,☆,★,○,●,◎,◇,◆,□,■,△,▲,※,→,←,↑,↓,〓,〡,〢,〣,〤,〥,〦,〧,〨,〩,㊣,㎎,㎏,㎜,㎝,㎞,㎡,㏄,㏎,㏑,㏒,㏕,︰,￢,￤,℡,ˊ,ˋ,˙,–,―,‥,‵,℅,℉,↖,↗,↘,↙,∕,∟,∣,≒,≦,≧,⊿,═,║,╒,╓,╔,╕,╖,╗,╘,╙,╚,╛,╜,╝,╞,╟,╠,╡,╢,╣,╤,╥,╦,╧,╨,╩,╪,╫,╬,╭,╮,╯,╰,╱,╲,╳,▁,▂,▃,▄,▅,▆,▇,�,█,▉,▊,▋,▌,▍,▎,▏,▓,▔,▕,▼,▽,◢,◣,◤,◥,☉,⊕,〒,〝,〞")},{name:"lmsz",title:"罗马字符",chars:r("ⅰ,ⅱ,ⅲ,ⅳ,ⅴ,ⅵ,ⅶ,ⅷ,ⅸ,ⅹ,Ⅰ,Ⅱ,Ⅲ,Ⅳ,Ⅴ,Ⅵ,Ⅶ,Ⅷ,Ⅸ,Ⅹ,Ⅺ,Ⅻ")},{name:"szfh",title:"数学字符",chars:r("⒈,⒉,⒊,⒋,⒌,⒍,⒎,⒏,⒐,⒑,⒒,⒓,⒔,⒕,⒖,⒗,⒘,⒙,⒚,⒛,⑴,⑵,⑶,⑷,⑸,⑹,⑺,⑻,⑼,⑽,⑾,⑿,⒀,⒁,⒂,⒃,⒄,⒅,⒆,⒇,①,②,③,④,⑤,⑥,⑦,⑧,⑨,⑩,㈠,㈡,㈢,㈣,㈤,㈥,㈦,㈧,㈨,㈩")},{name:"rwfh",title:"日文字符",chars:r("ぁ,あ,ぃ,い,ぅ,う,ぇ,え,ぉ,お,か,が,き,ぎ,く,ぐ,け,げ,こ,ご,さ,ざ,し,じ,す,ず,せ,ぜ,そ,ぞ,た,だ,ち,ぢ,っ,つ,づ,て,で,と,ど,な,に,ぬ,ね,の,は,ば,ぱ,ひ,び,ぴ,ふ,ぶ,ぷ,へ,べ,ぺ,ほ,ぼ,ぽ,ま,み,む,め,も,ゃ,や,ゅ,ゆ,ょ,よ,ら,り,る,れ,ろ,ゎ,わ,ゐ,ゑ,を,ん,ァ,ア,ィ,イ,ゥ,ウ,ェ,エ,ォ,オ,カ,ガ,キ,ギ,ク,グ,ケ,ゲ,コ,ゴ,サ,ザ,シ,ジ,ス,ズ,セ,ゼ,ソ,ゾ,タ,ダ,チ,ヂ,ッ,ツ,ヅ,テ,デ,ト,ド,ナ,ニ,ヌ,ネ,ノ,ハ,バ,パ,ヒ,ビ,ピ,フ,ブ,プ,ヘ,ベ,ペ,ホ,ボ,ポ,マ,ミ,ム,メ,モ,ャ,ヤ,ュ,ユ,ョ,ヨ,ラ,リ,ル,レ,ロ,ヮ,ワ,ヰ,ヱ,ヲ,ン,ヴ,ヵ,ヶ")},{name:"xlzm",title:"希腊字符",chars:r("Α,Β,Γ,Δ,Ε,Ζ,Η,Θ,Ι,Κ,Λ,Μ,Ν,Ξ,Ο,Π,Ρ,Σ,Τ,Υ,Φ,Χ,Ψ,Ω,α,β,γ,δ,ε,ζ,η,θ,ι,κ,λ,μ,ν,ξ,ο,π,ρ,σ,τ,υ,φ,χ,ψ,ω")},{name:"ewzm",title:"俄文字符",chars:r("А,Б,В,Г,Д,Е,Ё,Ж,З,И,Й,К,Л,М,Н,О,П,Р,С,Т,У,Ф,Х,Ц,Ч,Ш,Щ,Ъ,Ы,Ь,Э,Ю,Я,а,б,в,г,д,е,ё,ж,з,и,й,к,л,м,н,о,п,р,с,т,у,ф,х,ц,ч,ш,щ,ъ,ы,ь,э,ю,я")},{name:"pyzm",title:"拼音字母",chars:r("ā,á,ǎ,à,ē,é,ě,è,ī,í,ǐ,ì,ō,ó,ǒ,ò,ū,ú,ǔ,ù,ǖ,ǘ,ǚ,ǜ,ü")},{name:"yyyb",title:"英语音标",chars:r("i:,i,e,æ,ʌ,ə:,ə,u:,u,ɔ:,ɔ,a:,ei,ai,ɔi,əu,au,iə,εə,uə,p,t,k,b,d,g,f,s,ʃ,θ,h,v,z,ʒ,ð,tʃ,tr,ts,dʒ,dr,dz,m,n,ŋ,l,r,w,j,")},{name:"zyzf",title:"其它",chars:r("ㄅ,ㄆ,ㄇ,ㄈ,ㄉ,ㄊ,ㄋ,ㄌ,ㄍ,ㄎ,ㄏ,ㄐ,ㄑ,ㄒ,ㄓ,ㄔ,ㄕ,ㄖ,ㄗ,ㄘ,ㄙ,ㄚ,ㄛ,ㄜ,ㄝ,ㄞ,ㄟ,ㄠ,ㄡ,ㄢ,ㄣ,ㄤ,ㄥ,ㄦ,ㄧ,ㄨ")}],s={DemoUrl:"http://img.baidu.com/hi/tsj/t_0001.gif",BaseUrl:"http://img.baidu.com/hi/",SmileyInfor:{tab0:["Kiss","Love","Yeah","啊！","背扭","顶","抖胸","88","汗","瞌睡","鲁拉","拍砖","揉脸","生日快乐","大笑","瀑布汗~","惊讶","臭美","傻笑","抛媚眼","发怒","打酱油","俯卧撑","气愤","?","吻","怒","胜利","HI","KISS","不说","不要","扯花","大心","顶","大惊","飞吻","鬼脸","害羞","口水","狂哭","来","发财了","吃西瓜","套牢","害羞","庆祝","我来了","敲打","晕了","胜利","臭美","被打了","贪吃","迎接","酷","微笑","亲吻","调皮","惊恐","耍酷","发火","害羞","汗水","大哭","","加油","困","你NB","晕倒","开心","偷笑","大哭","滴汗","叹气","超赞","??","飞吻","天使","撒花","生气","被砸","吓傻","随意吐"],tab1:["Kiss","Love","Yeah","啊！","背扭","顶","抖胸","88","汗","瞌睡","鲁拉","拍砖","揉脸","生日快乐","摊手","睡觉","瘫坐","无聊","星星闪","旋转","也不行","郁闷","正Music","抓墙","撞墙至死","歪头","戳眼","飘过","互相拍砖","砍死你","扔桌子","少林寺","什么？","转头","我爱牛奶","我踢","摇晃","晕厥","在笼子里","震荡"],tab2:["大笑","瀑布汗~","惊讶","臭美","傻笑","抛媚眼","发怒","我错了","money","气愤","挑逗","吻","怒","胜利","委屈","受伤","说啥呢？","闭嘴","不","逗你玩儿","飞吻","眩晕","魔法","我来了","睡了","我打","闭嘴","打","打晕了","刷牙","爆揍","炸弹","倒立","刮胡子","邪恶的笑","不要不要","爱恋中","放大仔细看","偷窥","超高兴","晕","松口气","我跑","享受","修养","哭","汗","啊~","热烈欢迎","打酱油","俯卧撑","?"],tab3:["HI","KISS","不说","不要","扯花","大心","顶","大惊","飞吻","鬼脸","害羞","口水","狂哭","来","泪眼","流泪","生气","吐舌","喜欢","旋转","再见","抓狂","汗","鄙视","拜","吐血","嘘","打人","蹦跳","变脸","扯肉","吃To","吃花","吹泡泡糖","大变身","飞天舞","回眸","可怜","猛抽","泡泡","苹果","亲","","骚舞","烧香","睡","套娃娃","捅捅","舞倒","西红柿","爱慕","摇","摇摆","杂耍","招财","被殴","被球闷","大惊","理想","欧打","呕吐","碎","吐痰"],tab4:["发财了","吃西瓜","套牢","害羞","庆祝","我来了","敲打","晕了","胜利","臭美","被打了","贪吃","迎接","酷","顶","幸运","爱心","躲","送花","选择"],tab5:["微笑","亲吻","调皮","惊讶","耍酷","发火","害羞","汗水","大哭","得意","鄙视","困","夸奖","晕倒","疑问","媒婆","狂吐","青蛙","发愁","亲吻","","爱心","心碎","玫瑰","礼物","哭","奸笑","可爱","得意","呲牙","暴汗","楚楚可怜","困","哭","生气","惊讶","口水","彩虹","夜空","太阳","钱钱","灯泡","咖啡","蛋糕","音乐","爱","胜利","赞","鄙视","OK"],tab6:["男兜","女兜","开心","乖乖","偷笑","大笑","抽泣","大哭","无奈","滴汗","叹气","狂晕","委屈","超赞","??","疑问","飞吻","天使","撒花","生气","被砸","口水","泪奔","吓傻","吐舌头","点头","随意吐","旋转","困困","鄙视","狂顶","篮球","再见","欢迎光临","恭喜发财","稍等","我在线","恕不议价","库房有货","货在路上"]},EmotionTabs:{tab0:{name:"精选",prefix:"j_00",path:"jx2/"},tab1:{name:"兔斯基",prefix:"t_00",path:"tsj/"},tab2:{name:"绿豆蛙",prefix:"w_00",path:"ldw/"},tab3:{name:"BOBO",prefix:"B_00",path:"bobo/"},tab4:{name:"baby猫",prefix:"C_00",path:"babycat/"},tab5:{name:"泡泡",prefix:"i_f",path:"face/"},tab6:{name:"有啊",prefix:"y_00",path:"youa/"}}};e.exports={EditorIconTypes:n,ColorTypes:o,FormulaTypes:a,SpecialChars:i,EmotionImages:s}},58:function(e,t){"use strict";var n={stopPropagation:function(e){e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},isTextNode:function(e){return!!e&&(3==e.nodeType||"#text"==e.nodeName)},isSpanNode:function(e){return!!e&&(1==e.nodeType&&"SPAN"==e.nodeName)},isNullOfTextNode:function(e){return!!this.isTextNode(e)&&""==e.nodeValue},getOffsetRootParentPosition:function(e,t){var n={x:0,y:0,w:0,h:0};n.w=e.offsetWidth,n.h=e.offsetHeight,n.x=e.offsetLeft,n.y=e.offsetTop;for(var o=e.offsetParent;o&&o!=t&&o.offsetParent!=t.offsetParent;)n.x+=o.offsetLeft,n.y+=o.offsetTop,o=o.offsetParent;return o==t&&(n.x=n.x-parseFloat(o.style.paddingLeft||0),n.y=n.y-parseFloat(o.style.paddingTop||0)),n},isEditorDom:function(e,t){for(var n=e.parentNode;n&&n!=t;)n=n.parentNode;return n==t},createTextNode:function(e){return document.createTextNode(e)},createNodeByTag:function(e,t){var n=document.createElement(e);return n.innerHTML=t,n},createHR:function(){var e=document.createElement("hr");return e},createBR:function(){var e=document.createElement("br");return e}};e.exports=n},92:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tabIndex:0},n}return r(t,e),i(t,[{key:"setTabIndex",value:function(e){this.setState({tabIndex:e})}},{key:"getTabIndex",value:function(){return this.state.tabIndex}},{key:"handleClick",value:function(e){e=e||event;var t=e.target||e.srcElement,n=parseInt(t.getAttribute("data-index"));this.setTabIndex(n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{key:"render",value:function(){var e=this.state.tabIndex,t=this.props.tabs||[],n=t[e]?t[e].component:"",o=this.handleClick.bind(this);return s.createElement("div",{className:"tab-group"},s.createElement("ul",{className:"tab-nav"},t.map(function(t,n){return s.createElement("li",{key:n,className:"tab-item"+(e==n?" active":"")},s.createElement("a",{"data-index":n,className:"tab-text",onClick:o},t.title))})),s.createElement("div",{className:"tab-content"},n))}}]),t}(s.Component);e.exports=l},129:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),u=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1,position:{x:0,y:0}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.close.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.close.bind(this))}},{key:"open",value:function(e){this.setState({show:!0,position:e})}},{key:"close",value:function(){this.state.show&&this.setState({show:!1})}},{key:"toggle",value:function(e){this.setState({show:!this.state.show,position:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,a=o(e,["className","style"]);return n=n||{},this.state.show?n.display="":n.display="none",this.state.position&&(n.left=this.state.position.x,n.top=this.state.position.y),c.createElement("div",s({style:n,className:"combobox"+(t?" "+t:"")},a),this.props.children)}}]),t}(c.Component);e.exports=u},130:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.close.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.close.bind(this))}},{key:"open",value:function(){this.setState({show:!0})}},{key:"close",value:function(){this.state.show&&this.setState({show:!1})}},{key:"toggle",value:function(){this.setState({show:!this.state.show})}},{key:"handleMouseDown",value:function(e){e=e||event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.buttons,a=e.title,r=e.style,i=e.width,s=e.height,c=e.onClose,u=e.children,r=(o(e,["className","buttons","title","style","width","height","onClose","children"]),r?r:{});i&&(r.width=i,r.marginLeft=-i/2),s&&(r.height=s),r.display=this.state.show?"":"none";var f="dialog"+(t?" "+t:"");return l.createElement("div",{className:"dialog-container",ref:"root",onMouseDown:this.handleMouseDown.bind(this)},l.createElement("div",{className:f,ref:"dialog",style:r},l.createElement("div",{className:"dialog-header",ref:"header"},l.createElement("a",{className:"dialog-close",onClick:c}),l.createElement("h3",{className:"dialog-title"},a)),l.createElement("div",{className:"dialog-body",ref:"body"},u),l.createElement("div",{className:"dialog-footer",ref:"footer"},n.map(function(e,t){return l.createElement("a",{className:"dialog-button",key:t,"data-name":e.name,onClick:e.onClick},e.content)}))),l.createElement("div",{className:"dialog-backdrop",ref:"backdrop",style:{display:this.state.show?"":"none"}}))}}]),t}(l.Component);e.exports=c},131:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),u=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1,position:{x:0,y:0}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.close.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.close.bind(this))}},{key:"open",value:function(e){this.setState({show:!0,position:e})}},{key:"close",value:function(){this.state.show&&this.setState({show:!1})}},{key:"toggle",value:function(e){this.setState({show:!this.state.show,position:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,a=o(e,["className","style"]);return n=n||{},this.state.show?n.display="":n.display="none",this.state.position&&(n.left=this.state.position.x,n.top=this.state.position.y),c.createElement("div",s({style:n,className:"dropdown"+(t?" "+t:"")},a),c.createElement("div",{className:"dropdown-caret"}),this.props.children)}}]),t}(c.Component);e.exports=u},132:function(e,t,n){"use strict";var o=n(58);NodeList.prototype.toArray=function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e};var a={range:null,selection:null,storedRange:!1,getSelection:function(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange():null},cloneRange:function(){this.storedRange||(this.selection=this.getSelection(),this.selection.removeAllRanges(),this.selection&&this.range&&(this.selection.addRange(this.range.cloneRange()),this.range=this.range.cloneRange()))},getTextNodes:function(){if(!this.range)return[];if(this.range.collapsed)return[];var e=this.range.commonAncestorContainer,t=this.range.startContainer,n=this.range.startOffset,a=this.range.endContainer,r=this.range.endOffset,i=[];if(t===a&&o.isTextNode(t))i.push({childNode:t,startOffset:n,endOffset:r});else for(var s=e.childNodes.toArray(),l=!1,c=s.shift();c&&(o.isTextNode(c)&&(c===t?(i.push({childNode:c,startOffset:n,endOffset:c.length}),l=!0):c===a?i.push({childNode:c,startOffset:0,endOffset:r}):i.length>0&&i.push({childNode:c,startOffset:0,endOffset:c.length})),c!=a);){var u=c.childNodes.toArray();s=u.concat(s),c=s.shift()}return i},getSpanNodes:function(){if(!this.range)return[];if(this.range.collapsed)return[];var e=this.range.commonAncestorContainer;3==e.nodeType&&(e=e.parentNode);var t=this.range.startContainer,n=this.range.endContainer,a=[];if(o.isSpanNode(e)&&a.push(e),t===n&&o.isSpanNode(t))a.push(t);else for(var r=e.childNodes.toArray(),i=0,s=!1,l=r.shift();l&&(l===t&&(s=!0,o.isSpanNode(l.parentNode)&&a.push(l.parentNode)),o.isSpanNode(l)&&s&&a.push(l),l!=n);){var c=l.childNodes.toArray();r=c.concat(r),l=r.shift()}for(var u=[],i=0;i<a.length;i++)u.indexOf(a[i])==-1&&u.push(a[i]);return u},getParagraphs:function(){for(var e=this.getTextNodes(),t=[],n=0;n<e.length;n++){var o=null,a=e[n].childNode.parentNode.tagName||e[n].childNode.parentNode.nodeName;switch(a.toUpperCase()){case"FONT":o=e[n].childNode.parentNode;break;default:o=e[n].childNode}t.indexOf(o.parentNode)==-1&&t.push(o.parentNode)}return t},getCommonAncestor:function(){if(this.range.collapsed)return null;var e=this.range.commonAncestorContainer;return e},addRange:function(e,t,n,o){this.selection=this.getSelection(),this.selection.removeAllRanges(),this.selection&&this.range&&e instanceof Node&&n instanceof Node&&(this.range.setStart(e,t),this.range.setEnd(n,o),this.selection.addRange(this.range.cloneRange()),this.range=this.range.cloneRange())},validateSelection:function(e){var e=e||this.selection,t=e.anchorNode;if(!t)return!1;var n=t.parentNode;return!!n&&((!t.offsetParent||"editor-toolbar"!=t.offsetParent.className)&&(!n.offsetParent||"editor-toolbar"!=n.offsetParent.className))},validateRange:function(e,t){var n=t.startContainer.parentNode;if(n==e)return!0;var o="find-range-node-"+Math.random().toFixed(10).replace(".","-");n.classList.add(o);var a=e.querySelector("."+o);return n.classList.remove(o),!!a},createRange:function(){this.storedRange||(this.selection=this.getSelection(),this.validateSelection()&&(this.selection&&this.selection.rangeCount>0?this.range=this.selection.getRangeAt(0).cloneRange():this.range=null))},clearRange:function(){this.storedRange||(this.selection=this.getSelection(),this.selection.removeAllRanges())},getRangeState:function(){for(var e={},t="bold italic underline strikethrough fontborder superscript subscript justifycenter justifyleft justifyright",n=t.split(" "),o=0;o<n.length;o++)e[n[o]]={icon:n[o],active:!1};if(this.range)for(var a=this.range.startContainer.parentNode;"DIV"!=(a.tagName||a.nodeName).toUpperCase();){var r=a.tagName||a.nodeName;switch(r.toUpperCase()){case"I":e.italic={active:!0,icon:"italic"};break;case"B":e.bold={active:!0,icon:"bold"};break;case"U":e.underline={active:!0,icon:"underline"};break;case"STRIKE":e.strikethrough={active:!0,icon:"strikethrough"};break;case"SUP":e.superscript={active:!0,icon:"superscript"};break;case"SUB":e.subscript={active:!0,icon:"subscript"};break;case"FONT":e.forecolor={color:a.color,icon:"forecolor"},e.backcolor={color:a.style.backgroundColor,icon:"backcolor"},e.fontsize={value:a.size,icon:"fontsize"},e.fontfamily={value:a.face,icon:"fontfamily"};break;case"P":case"H1":case"H2":case"H3":case"H5":case"H6":var i=a.style.textAlign?a.style.textAlign:"left";a.style.fontFamily?a.style.fontFamily:"宋体,SimSun",a.style.fontSize?a.style.fontSize:"12px";e.justifycenter={active:"center"==i,icon:"subscript"},e.justifyleft={active:"left"==i,icon:"subscript"},e.justifyright={active:"right"==i,icon:"subscript"},e.paragraph={value:a.tagName.toLowerCase(),icon:"paragraph"};break;case"BLOCKQUOTE":e.indent={active:!0,icon:"indent"},e.outdent={active:!1,icon:"outdent"};break;case"SPAN":var s=a.className||"";s.indexOf("font-border")!=-1&&(e.fontborder={active:!0,icon:"fontborder"})}a=a.parentNode}return e.forecolor||(e.forecolor={color:"transparent",icon:"forecolor"}),e.backcolor||(e.backcolor={color:"transparent",icon:"backcolor"}),e.fontsize&&e.fontsize.value||(e.fontsize={value:"3",icon:"fontsize"}),e.paragraph&&e.paragraph.value||(e.paragraph={value:"p",icon:"fontsize"}),e.fontfamily&&e.fontfamily.value||(e.fontfamily={value:"宋体, SimSun",icon:"fontfamily"}),e.indent||(e.outdent={active:!0,icon:"outdent"},e.indent={active:!1,icon:"indent"}),e},storeRange:function(){this.storedRange=this.range?this.range.cloneRange():null},restoreRange:function(){this.range=this.storedRange?this.storedRange.cloneRange():null,this.storedRange=null,this.cloneRange()},insertNode:function(e){if(this.range){a.range.insertNode(e);var t=e.lastChild||e;t&&(this.range.setStartAfter(t),this.range.setEndAfter(t)),this.selection.removeAllRanges(),this.selection.addRange(this.range)}}};e.exports=a},211:function(e,t,n){"use strict";var o=n(132),a={curCommand:null,commandStack:[],commandIndex:-1,canUndo:function(){return this.commandStack.length>0&&this.commandIndex!=-1},canRedo:function(){return this.commandStack.length>0&&this.commandIndex!=this.commandStack.length-1},undo:function(){return this.canUndo()&&(this.commandIndex=this.commandIndex-1,this.curCommand=this.commandStack[this.commandIndex],document.execCommand("undo")),this.canUndo()},redo:function(){return this.canRedo()&&(this.commandIndex=this.commandIndex+1,this.curCommand=this.commandStack[this.commandIndex],document.execCommand("redo")),this.canRedo()},execCommand:function(e,t,n){switch(e){case"inserthtml":var a=o.getSelection();a.pasteHTML?a.pasteHTML(n):document.execCommand(e,t,n);break;default:document.execCommand(e,t,n)}"selectall"!=e&&(this.commandIndex=this.commandIndex+1,this.curCommand={command:e,flag:t,args:n},this.commandStack.splice(this.commandIndex,this.commandStack.length-this.commandIndex),this.commandStack[this.commandIndex]={command:e,flag:t,args:n})},getCurCommand:function(){return this.curCommand},getCommandStack:function(){return this.commandStack},getCommandIndex:function(){return this.commandIndex},clear:function(){this.curCommand=null,this.commandStack=[],this.commandIndex=-1}};e.exports=a},373:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function a(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],i(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),a=c.length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),a||(a=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var a=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,a,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,a=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},397:9,405:function(e,t){function n(e,t,n,o){function a(e,t,n,o){return e<20?t&n|~t&o:e<40?t^n^o:e<60?t&n|t&o|n&o:t^n^o}function r(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function i(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function l(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var n=[80],o=1732584193,l=-271733879,c=-1732584194,u=271733878,f=-1009589776,d=0;d<e.length;d+=16){for(var p=o,h=l,m=c,g=u,v=f,b=0;b<80;b++){b<16?n[b]=e[d+b]:n[b]=s(n[b-3]^n[b-8]^n[b-14]^n[b-16],1);var y=i(i(s(o,5),a(b,l,c,u)),i(i(f,n[b]),r(b)));f=u,u=c,c=s(l,30),l=o,o=y}o=i(o,p),l=i(l,h),c=i(c,m),u=i(u,g),f=i(f,v)}return[o,l,c,u,f]}function c(e){for(var t=[],n=(1<<o)-1,a=0;a<e.length*o;a+=o)t[a>>5]|=(e.charCodeAt(a/8)&n)<<32-o-a%32;return t}function u(e,t){var n=c(e);n.length>16&&(n=l(n,e.length*o));for(var a=[16],r=[16],i=0;i<16;i++)a[i]=909522486^n[i],r[i]=1549556828^n[i];var s=l(a.concat(c(t)),512+t.length*o);return l(r.concat(s),672)}function f(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="",a=0;a<4*e.length;a+=3)for(var r=(e[a>>2]>>8*(3-a%4)&255)<<16|(e[a+1>>2]>>8*(3-(a+1)%4)&255)<<8|e[a+2>>2]>>8*(3-(a+2)%4)&255,i=0;i<4;i++)o+=8*a+6*i>32*e.length?n:t.charAt(r>>6*(3-i)&63);
return o}function d(e,t){return f(u(e,t))}return n||(n="="),o||(o=8),d(e,t)}e.exports=n},510:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(8),c=n(132),u=n(58),f=n(526),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={content:""},n}return r(t,e),i(t,[{key:"componentDidMount",value:function(e){window.addEventListener("mousedown",this.handleWindowMouseDown.bind(this)),window.addEventListener("mouseup",this.handleMouseUp.bind(this))}},{key:"componentWillUnmount",value:function(e){window.removeEventListener("mousedown",this.handleWindowMouseDown.bind(this)),window.removeEventListener("mouseup",this.handleMouseUp.bind(this))}},{key:"componentWillUpdate",value:function(e){}},{key:"componentDidUpdate",value:function(e){}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.value,o=this.getContent();return n!=o}},{key:"getContent",value:function(){var e=l.findDOMNode(this.refs.edit);return e.innerHTML}},{key:"setContent",value:function(e){if(this.getContent()!=e){this.setState({content:e});var t=l.findDOMNode(this.refs.edit);t.innerHTML=e}}},{key:"getName",value:function(){return"div"}},{key:"handleWindowMouseDown",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.tagName.toUpperCase(),o=["TEXTAREA","INPUT","SELECT","OPTIONS"];o.indexOf(n)==-1&&c.clearRange()}},{key:"handleMouseDown",value:function(e){c.clearRange(),u.stopPropagation(e)}},{key:"handleMouseUp",value:function(e){c.createRange(),this.props.onRangeChange&&this.props.onRangeChange(e),u.stopPropagation(e)}},{key:"setResizeTarget",value:function(e){this.refs.resize.setTarget(e)}},{key:"clearResizeTarget",value:function(){this.refs.resize.clearTarget()}},{key:"getEditorRange",value:function(){return l.findDOMNode(this.refs.edit)}},{key:"render",value:function(){return s.createElement("div",{className:"editor-contenteditable-div"},s.createElement(f,{ref:"resize"}),s.createElement("div",{className:"editable-range",ref:"edit",onMouseUp:this.handleMouseUp.bind(this),onMouseDown:this.handleMouseDown.bind(this),contentEditable:!0,dangerouslySetInnerHTML:{__html:this.state.content}}))}}]),t}(s.Component);e.exports=d},511:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),u=n(8),f=n(57),d=(f.EditorIconTypes,n(211)),p=n(132),h=n(58),m=n(527),g=n(515),v=n(519),b=n(523),y=n(518),k=n(517),x=n(521),w=n(516),E=n(522),O=n(520),C=n(514),N=n(513),S=n(510),P=null,_=0,T=null,M=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editorState:{icon:"source",showHtml:!1,icons:{forecolor:{color:"transparent",icon:"forecolor"},backcolor:{color:"transparent",icon:"backcolor"},fontsize:{value:"3",icon:"fontsize"},paragraph:{value:"p",icon:"fontsize"},fontfamily:{value:"宋体, SimSun",icon:"fontfamily"},indent:{active:!1,icon:"indent"},outdent:{active:!0,icon:"outdent"}}},value:n.props.value||n.props.defaultValue},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){d.clear(),this.setContent(this.state.value);var e=u.findDOMNode(this.refs.editarea);e.addEventListener("keydown",this.handleKeyDown.bind(this)),e.addEventListener("keyup",this.handleKeyUp.bind(this));var t=this.props.onEditorMount;setTimeout(t,10)}},{key:"componentDidUpdate",value:function(){var e=this.state.editorState;switch(e.icon){case"source":e.content&&this.setContent(e.content);break;case"cleardoc":e.content&&this.setContent(e.content)}}},{key:"componentWillUnmont",value:function(){var e=u.findDOMNode(this.refs.editarea);e.removeEventListener("keydown",this.handleKeyDown.bind(this)),e.removeEventListener("keyup",this.handleKeyUp.bind(this))}},{key:"handleKeyDown",value:function(e){e=e||event;var t=e.target||e.srcElement;if(t.className&&t.className.indexOf("editor-contenteditable-div")!=-1){var n=e.keyCode||e.which,o=this.autoSave;e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(0==d.getCommandStack().length&&(o(),_=0),clearTimeout(P),P=m.setTimeout(function(){var e=m.setInterval(function(){o(),_=0,m.clearInterval(e)},300)},200),lastKeyCode=n,_++,_>=maxInputCount&&(o(),_=0))}h.stopPropagation(e)}},{key:"handleKeyUp",value:function(e){e=e||event;var t=e.target||e.srcElement;if(t.className&&t.className.indexOf("editor-contenteditable-div")!=-1){e.keyCode||e.which;!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)}h.stopPropagation(e)}},{key:"handleFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e,this.findDOMNode("root")),h.stopPropagation(e)}},{key:"handleClick",value:function(e){h.stopPropagation(e)}},{key:"exchangeRangeState",value:function(e){var t=p.getRangeState();for(var n in t)if(e.icons[n]){switch(n){case"forecolor":case"backcolor":e.icons[n].color=t[n].color;break;case"paragraph":case"fontfamily":case"fontsize":e.icons[n].value=t[n].value}e.icons[n].active=t[n].active}else e.icons[n]=t[n];return e}},{key:"handleRangeChange",value:function(e){if(e=e||event,!(e&&"blur"==e.type||this._calledComponentWillUnmount)){var t=e?e.target||e.srcElement:null,n=p.getSelection();if(this.props.onChange){var o=this.getContent(),a=this.state.value;a!=o&&(this.props.onChange(o),this.setState({value:o}))}var r=this.state.editorState;if(n&&n.rangeCount>0)if("source"==r.icon)r=this.exchangeRangeState(r),this.setState({editorState:r});else{if(!p.validateSelection(n))return;r=this.exchangeRangeState(r),this.setState({editorState:r}),this.refs.editarea&&this.refs.editarea.clearResizeTarget&&this.refs.editarea.clearResizeTarget()}else if(t&&h.isEditorDom(t,u.findDOMNode(this.refs.root))){var i=t.tagName.toUpperCase();switch(i){case"IMG":this.refs.editarea&&this.refs.editarea.setResizeTarget&&this.refs.editarea.setResizeTarget(t)}}else"source"==r.icon&&(r=this.exchangeRangeState(r),this.setState({editorState:r}))}}},{key:"handleToolbarIconClick",value:function(e,t){e=e||event;var n=e.target||e.srcElement,o=u.findDOMNode(this.refs.root),a=h.getOffsetRootParentPosition(n,o),r=this.handleRangeChange.bind(this),i=u.findDOMNode(this.refs.editarea);this.refs.editarea.getEditorRange&&(i=this.refs.editarea.getEditorRange());var s=this.state.editorState;switch(p.cloneRange(),p.storeRange(),this.closeAllOpenDialog(t.icon),p.restoreRange(),t.icon){case"source":s.showHtml=!s.showHtml,t.active=s.showHtml,s.content=this.refs.editarea.getContent();break;case"undo":d.undo();break;case"redo":d.redo();break;case"removeformat":d.execCommand(t.icon,!1,null),p.storeRange();for(var l=p.getSpanNodes(),c=0;c<l.length;c++)switch(l[c].className){case"font-border":for(var f=l[c],g=f.parentNode,v=f.nextSibling||f,b=f.childNodes.length,y=0;y<b;y++)g.insertBefore(f.childNodes[y].cloneNode(),v);g.removeChild(l[c]);break;case"emphasis":for(var f=l[c],g=f.parentNode,v=f.nextSibling||f,b=f.childNodes.length,y=0;y<b;y++)g.insertBefore(f.childNodes[y].cloneNode(),v);g.removeChild(l[c])}p.restoreRange();break;case"bold":case"italic":case"underline":case"strikethrough":case"subscript":case"superscript":case"insertorderedlist":case"insertunorderedlist":case"selectall":case"justifyleft":case"justifyright":case"justifycenter":case"indent":case"outdent":d.execCommand(t.icon,!1,null);break;case"touppercase":case"tolowercase":p.storeRange();for(var k=p.getTextNodes(),c=0;c<k.length;c++){var x=k[c].childNode,w=k[c].startOffset,E=k[c].endOffset;x.nodeValue=x.nodeValue.substring(0,w)+("touppercase"==t.icon?x.nodeValue.substring(w,E).toUpperCase():x.nodeValue.substring(w,E).toLowerCase())+x.nodeValue.substring(E,x.length)}d.execCommand(t.icon,!1,null),p.restoreRange();break;case"fontborder":for(var k=p.getTextNodes(),O=null,C=null,N=0,S=0,c=0;c<k.length;c++){var x=k[c].childNode,w=k[c].startOffset,E=k[c].endOffset,P=x.cloneNode(),_=P.nodeValue.substring(0,w),T=P.nodeValue.substring(E,P.length),M=P.nodeValue.substring(w,E),j=null,R=k[c].childNode.parentNode;R&&R.className&&"font-border"==R.className?(0==c&&(O=k[c].childNode,N=w),c==k.length-1&&(C=k[c].childNode,S=E)):(x.nodeValue=_,j=document.createElement("span"),j.className="font-border",j.innerHTML=M,j.style.border="1px solid #000",x.parentNode.insertBefore(j,x.nextSibling||x),""!=T&&x.parentNode.insertBefore(document.createTextNode(T),j.nextSibling),0==c&&(O=j.childNodes[0]),c==k.length-1&&(C=j.childNodes[0],S=j.childNodes[0].length))}p.addRange(O,N,C,S);for(var l=p.getSpanNodes(),c=0;c<l.length-1;c++){var f=l[c],g=l[c].parentNode;if(h.isNullOfTextNode(f.nextSibling)&&g.removeChild(f.nextSibling),f.nextSibling===l[c+1]){for(var L=l[c+1].childNodes,y=0;y<L.length;y++)f.appendChild(L[y].cloneNode());g.removeChild(l[c+1]),l[c+1]=l[c]}}d.execCommand(t.icon,!1,null);break;case"emphasis":for(var k=p.getTextNodes(),O=null,C=null,N=0,S=0,c=0;c<k.length;c++){var x=k[c].childNode,w=k[c].startOffset,E=k[c].endOffset,P=x.cloneNode(),_=P.nodeValue.substring(0,w),T=P.nodeValue.substring(E,P.length),M=P.nodeValue.substring(w,E),j=null,R=k[c].childNode.parentNode;R&&R.className&&"emphasis"==R.className?(0==c&&(O=k[c].childNode,N=w),c==k.length-1&&(C=k[c].childNode,S=E)):(x.nodeValue=_,j=document.createElement("span"),j.className="emphasis",j.innerHTML=M,x.parentNode.insertBefore(j,x.nextSibling||x),""!=T&&x.parentNode.insertBefore(document.createTextNode(T),j.nextSibling),0==c&&(O=j.childNodes[0]),c==k.length-1&&(C=j.childNodes[0],S=j.childNodes[0].length))}p.addRange(O,N,C,S);for(var l=p.getSpanNodes(),c=0;c<l.length-1;c++){var f=l[c],g=l[c].parentNode;if(h.isNullOfTextNode(f.nextSibling)&&g.removeChild(f.nextSibling),f.nextSibling===l[c+1]){for(var L=l[c+1].childNodes,y=0;y<L.length;y++)f.appendChild(L[y].cloneNode());g.removeChild(l[c+1]),l[c+1]=l[c]}}d.execCommand(t.icon,!1,null);break;case"forecolor":p.storeRange(),a.y+=a.h+5,this.refs.color.toggle(a,function(e,t){i.focus(),p.restoreRange(),d.execCommand("forecolor",!1,t),r()});break;case"backcolor":p.storeRange(),a.y+=a.h+5,this.refs.color.toggle(a,function(e,t){i.focus(),p.restoreRange(),d.execCommand("backcolor",!1,t),r()});break;case"fontsize":p.storeRange(),a.y+=a.h+5,this.refs.fontsize.toggle(a,function(e,t){i.focus(),p.restoreRange(),d.execCommand("fontsize",!1,t),r()});break;case"fontfamily":p.storeRange(),a.y+=a.h+5,this.refs.fontfamily.toggle(a,function(e,t){i.focus(),p.restoreRange(),d.execCommand("fontname",!1,t),r()});break;case"paragraph":p.storeRange(),a.y+=a.h+5,this.refs.paragraph.toggle(a,function(e,t){i.focus(),p.restoreRange();for(var n=p.getParagraphs(),o=0;o<n.length;o++)switch(n[o].tagName.toUpperCase()){case"TD":case"TH":case"DIV":for(var a=n[o].childNodes,s=document.createElement(t),l=0;l<a.length;l++)s.appendChild(a[l]);n[o].appendChild(s);break;case"P":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":var c=n[o],a=n[o].childNodes,s=document.createElement(t),u=c.parentNode;u.insertBefore(s,c.nextSibling);for(var l=0;l<a.length;l++)s.appendChild(a[l]);u.removeChild(c)}d.execCommand("paragraph",!1,t),r()});break;case"cleardoc":s.content="<p><br/></p>";break;case"horizontal":var D="<hr/><p></br></p>";if(p.range&&p.validateRange(o,p.range))if(p.range.pasteHTML)p.range.pasteHTML(D);else{var z=h.createHR(),A=h.createNodeByTag("p","<br/>");p.range.deleteContents(),p.insertNode(A),p.insertNode(z)}else i.innerHTML+=D;break;case"date":var I=(new Date).Format("yyyy-MM-dd");if(p.range&&p.validateRange(o,p.range))if(p.range.pasteHTML)p.range.pasteHTML(I);else{var H=h.createTextNode(I);p.range.deleteContents(),p.insertNode(H)}else i.innerHTML+="<p>"+I+"</p>";break;case"time":var D=(new Date).Format("hh:mm:ss");if(p.range&&p.validateRange(o,p.range))if(p.range.pasteHTML)p.range.pasteHTML(D);else{var H=h.createTextNode(D);p.range.deleteContents(),p.insertNode(H)}else i.innerHTML+="<p>"+D+"</p>";break;case"image":p.storeRange(),this.refs.image.toggle(function(e,t){if(i.focus(),p.restoreRange(),t&&t.length>0)if(p.range&&p.validateRange(o,p.range))if(p.range.pasteHTML)p.range.pasteHTML("<p>"+t+"</p>");else{var n=h.createNodeByTag("p",t);p.range.deleteContents(),p.insertNode(n)}else i.innerHTML+="<p>"+t+"</p>"});break;case"formula":p.storeRange(),a.y+=a.h+5,a.x-=a.w/2;var U=this;this.refs.formula.toggle(a,function(e,t,n){if(i.focus(),p.restoreRange(),t&&t.length>0){var a='<span>&nbsp;<span class="mathquill-embedded-latex" id="'+n+'"></span>&nbsp;</span>';if(p.range&&p.validateRange(o,p.range))if(p.range.pasteHTML)p.range.pasteHTML(a);else{var s=h.createNodeByTag("span",'&nbsp;<span class="mathquill-embedded-latex" id="'+n+'"></span>&nbsp;');p.range.deleteContents(),p.insertNode(s)}else i.innerHTML+=a;m.setTimeout(function(){U.addFormula(n,t)},200),r()}});break;case"inserttable":p.storeRange(),a.y+=a.h+5,a.x-=a.w/2,this.refs.table.toggle(a,function(e,t){i.focus(),p.restoreRange(),p.range&&p.validateRange(o,p.range)?p.range.pasteHTML?p.range.pasteHTML(t.outerHTML):(p.range.deleteContents(),p.insertNode(t)):i.innerHTML+=t.outerHTML,r()});break;case"spechars":p.storeRange(),this.refs.special.toggle(function(e,t){if(i.focus(),p.restoreRange(),p.range&&p.validateRange(o,p.range))if(p.range.pasteHTML)p.range.pasteHTML(t);else{var n=h.createTextNode(t);p.range.deleteContents(),p.insertNode(n)}else i.innerHTML+=t;r()});break;case"emotion":p.storeRange(),this.refs.emotion.toggle(function(e,t){i.focus(),p.restoreRange(),p.range&&p.validateRange(o,p.range)?p.range.pasteHTML?p.range.pasteHTML(t.outerHTML):(p.range.deleteContents(),p.insertNode(t)):i.innerHTML+=t.outerHTML,r()})}s.icons[t.icon]=t,s.icon=t.icon,p.createRange(),r(),h.stopPropagation(e)}},{key:"closeAllOpenDialog",value:function(e){var t=["image","color","formula","table","special","emotion","fontsize","fontfamily","paragraph"],n=["forecolor","backcolor","image","emotion","spechars","inserttable","formula","paragraph","fontsize","fontfamily"];if(n.indexOf(e)!=-1)for(var o=0;o<t.length;o++)this.refs[t[o]].close()}},{key:"addFormula",value:function(e,t){var n=u.findDOMNode(this.refs.editarea),o=document.getElementById(e),a={handlers:{edit:function(){}},restrictMismatchedBrackets:!0};if(T||(T=MathQuill?MathQuill.getInterface(2):null),null!=o||null!=T){var r=T.MathField(o,a);r.latex(t);var i=$(o);i.keydown(function(e){r.focus(),h.stopPropagation(e)}),i.keyup(function(e){r.focus(),h.stopPropagation(e)}),i.mouseup(function(e){r.focus(),h.stopPropagation(e)}),i.mousedown(function(e){h.stopPropagation(e)}),i.mousemove(function(e){h.stopPropagation(e)}),$(n).mousedown(function(e){r.blur(),h.stopPropagation(e)}),$(n).mousemove(function(e){h.stopPropagation(e)})}}},{key:"autoSave",value:function(){d.execCommand("autosave",!1,null)}},{key:"findDOMNode",value:function(e){var t=["root","editarea","toolbar","color"];return t.indexOf(e)==-1?{ref:null,dom:null}:{ref:this.refs[e],dom:u.findDOMNode(this.refs[e])}}},{key:"setContent",value:function(e){var e=e||"";if(this.refs.editarea.setContent(e),e.indexOf("mathquill-embedded-latex")!=-1){var t=this;m.setTimeout(function(){for(var e=u.findDOMNode(t.refs.editarea),n=e.querySelectorAll(".mathquill-embedded-latex"),o=0;o<n.length;o++)if(!n[o].id){var a="mathquill-"+o+"-"+(new Date).valueOf(),r=n[o].innerHTML;n[o].id=a,t.addFormula(a,r)}},200)}}},{key:"getContent",value:function(){return this.refs.editarea?this.refs.editarea.getContent():""}},{key:"focusEditor",value:function(){var e=u.findDOMNode(this.refs.editarea);e.focus()}},{key:"genEditArea",value:function(){var e=this.state.editorState.showHtml;return e?c.createElement(N,{ref:"editarea",onChange:this.props.onChange}):c.createElement(S,{ref:"editarea",onRangeChange:this.handleRangeChange.bind(this)})}},{key:"render",value:function(){var e=this.genEditArea(),t=this.props,n=(t.index,t.fontSize),a=t.paragraph,r=t.fontFamily,i=t.icons,l=(t.plugins,t.onBlur,t.className),u=t.id,f=(t.onFocus,t.onClick,t.onChange,t.onEditorMount,o(t,["index","fontSize","paragraph","fontFamily","icons","plugins","onBlur","className","id","onFocus","onClick","onChange","onEditorMount"])),d=this.state.editorState,p=i.join(" ").replace(/\|/gm,"separator").split(" ");return c.createElement("div",s({ref:"root",id:u,className:"editor-container editor-default"+(l?" "+l:""),onClick:this.handleClick.bind(this),onBlur:this.handleRangeChange.bind(this),onFocus:this.handleFocus.bind(this)},f),c.createElement(C,{ref:"toolbar",editorState:d,onIconClick:this.handleToolbarIconClick.bind(this),icons:this.props.icons,paragraph:this.props.paragraph,fontsize:this.props.fontSize,fontfamily:this.props.fontFamily},c.createElement(O,{hidden:p.indexOf("image")==-1,ref:"image",uploader:this.props.plugins.image.uploader}),c.createElement(g,{hidden:p.indexOf("forecolor")==-1&&p.indexOf("forecolor"),ref:"color"}),c.createElement(v,{hidden:p.indexOf("formula")==-1,ref:"formula"}),c.createElement(b,{hidden:p.indexOf("inserttable")==-1,ref:"table"}),c.createElement(E,{hidden:p.indexOf("spechars")==-1,ref:"special"}),c.createElement(w,{hidden:p.indexOf("emotion")==-1,ref:"emotion"}),c.createElement(y,{hidden:p.indexOf("fontsize")==-1,ref:"fontsize",fontsize:this.props.fontSize,value:d.icons.fontsize?d.icons.fontsize.value:n[0].value}),c.createElement(k,{hidden:p.indexOf("fontfamily")==-1,ref:"fontfamily",fontfamily:this.props.fontFamily,value:d.icons.fontfamily?d.icons.fontfamily.value:r[0].value}),c.createElement(x,{hidden:p.indexOf("paragraph")==-1,ref:"paragraph",paragraph:this.props.paragraph,value:d.icons.paragraph?d.icons.paragraph.value:a[0].value})),e)}}]),t}(c.Component);e.exports=M},512:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),u=n(8),f=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.updateStyle()}},{key:"componentDidUpdate",value:function(){this.updateStyle()}},{key:"updateStyle",value:function(){var e=u.findDOMNode(this.refs.root),t=this.props.icon;switch(this.props.icon){case"forecolor":case"backcolor":var n=this.props.color?this.props.color:"transparent";e.id=t+"_"+(new Date).valueOf();var o=e.childElementCount>0?e.children[0]:document.createElement("style");o.innerHTML=".icon-"+t+"#"+e.id+":before{content:'';border-bottom:3px solid "+n+";}",0==e.childElementCount&&e.appendChild(o)}}},{key:"handleClick",value:function(e){e=e||event;for(var t=e.target||e.srcElement;t.className.indexOf("editor-icon")==-1;)t=t.parentElement;e.target=t;var n=this.props,a=(n.onClick,o(n,["onClick"]));this.props.onClick&&this.props.onClick(e,s({},a))}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.active,a=e.disabled,r=e.showHtml,i=(e.onClick,o(e,["icon","active","disabled","showHtml","onClick"])),l=r&&"source"!=t&&"separator"!=t,u="editor-icon icon-"+t+(n?" active":"")+(a||l?" disabled":"");return"fontsize"==t||"fontfamily"==t||"paragraph"==t?c.createElement("span",s({ref:"root",className:u,onClick:this.handleClick.bind(this)},i),c.createElement("span",{className:"icon-label"},i.name),c.createElement("span",{className:"icon-caret"})):c.createElement("span",s({ref:"root",className:u,onClick:this.handleClick.bind(this)},i))}}]),t}(c.Component);e.exports=f},513:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(8),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={content:""},n}return r(t,e),i(t,[{key:"getContent",value:function(){var e=l.findDOMNode(this.refs.root);return e.value}},{key:"setContent",value:function(e){this.setState({content:e})}},{key:"getName",value:function(){return"textarea"}},{key:"handleChange",value:function(){var e=this.getContent();this.setState({content:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){return s.createElement("textarea",{ref:"root",className:"editor-textarea",value:this.state.content,onChange:this.handleChange.bind(this)})}}]),t}(s.Component);e.exports=c},514:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=n(512),u=n(58),f=n(57),d=f.EditorIconTypes,p=n(211),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"handleIconClick",value:function(e,t){this.props.onIconClick&&this.props.onIconClick(e,t)}},{key:"getNameByValue",value:function(e,t){var n=e.filter(function(e,n){return e.value==t});return n.length>0?n[0].name:""}},{key:"getIcons",value:function(){var e=this.props.editorState;e.icons.undo={disabled:!p.canUndo()},e.icons.redo={disabled:!p.canRedo()},e.icons.fontsize&&(e.icons.fontsize.name=this.getNameByValue(this.props.fontsize,e.icons.fontsize.value)),e.icons.paragraph&&(e.icons.paragraph.name=this.getNameByValue(this.props.paragraph,e.icons.paragraph.value)),e.icons.fontfamily&&(e.icons.fontfamily.name=this.getNameByValue(this.props.fontfamily,e.icons.fontfamily.value));var t=this.props.icons,n=t.join(" ").replace(/\|/gm,"separator").split(" ");n=n.filter(function(e){return""!=e});for(var o=[],a=0;a<n.length;a++)o[a]=d[n[a]],o[a].onClick=this.handleIconClick.bind(this),o[a].icon=n[a],e.icons[n[a]]&&(o[a].disabled=!!e.icons[n[a]].disabled,o[a].active=!!e.icons[n[a]].active,o[a].color=e.icons[n[a]].color,o[a].value=e.icons[n[a]].value,o[a].name=e.icons[n[a]].name),o[a].showHtml=!!e.showHtml;return o}},{key:"render",value:function(){var e=this.getIcons();return l.createElement("div",{className:"editor-toolbar",onMouseDown:u.stopPropagation,onClick:u.stopPropagation},e.map(function(e,t){var n=e;return l.createElement(c,i({key:t},n))}),this.props.children)}}]),t}(l.Component);h.propTypes={icons:l.PropTypes.array},h.defaultProps={icons:[]},e.exports=h},515:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(131),c=n(57),u=c.ColorTypes,f=n(58),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e,t){this.setState({handle:t}),this.refs.root.open(e)}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e,t){this.setState({handle:t}),this.refs.root.toggle(e)}},{key:"handleSelectColor",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-color");this.state.handle&&this.state.handle(e,n),this.close(),f.stopPropagation(e)}},{key:"render",value:function(){var e=this.handleSelectColor.bind(this);return this.props.hidden?s.createElement("div",null):s.createElement(l,{ref:"root",className:"color-dropdown"},s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",{className:"title-row",key:"title-row"},s.createElement("td",{colSpan:10},"主题颜色")),u.themeColors.map(function(t,n){var o=0==n;return s.createElement("tr",{key:n,className:o?"first-row":""},t.map(function(t,n){return s.createElement("td",{key:n},s.createElement("a",{className:"color-anchor","data-color":t,style:{backgroundColor:t},onClick:e}))}))}),s.createElement("tr",{className:"title-row",key:"title-row2"},s.createElement("td",{colSpan:10},"标准颜色")),s.createElement("tr",{className:"last-row",key:"last-row"},u.standardColors.map(function(t,n){return s.createElement("td",{key:n},s.createElement("a",{className:"color-anchor","data-color":t,style:{backgroundColor:t},onClick:e}))})))))}}]),t}(s.Component);e.exports=d},516:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=(n(8),n(92)),c=n(130),u=n(57),f=u.EmotionImages,d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"handleClick",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-url"),o=t.getAttribute("data-title");if(this.props.onSelectImage){var a=document.createElement("img");a.src=n,a.title=o,this.props.onSelectImage(e,a)}}},{key:"render",value:function(){var e=this.props.images,t=this.handleClick.bind(this);return s.createElement("ul",{className:"emotion-images "+this.props.name},e.map(function(e,n){return s.createElement("li",{className:"emotion-image",key:n,"data-url":e.url,"data-title":e.title,onClick:t},s.createElement("img",{src:e.url,title:e.title,"data-url":e.url,"data-title":e.title}))}))}}]),t}(s.Component),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e){this.setState({handle:e}),this.refs.root.open()}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e){this.setState({handle:e}),this.refs.root.toggle()}},{key:"handleSelectImage",value:function(e,t){e=e||event,this.state.handle&&this.state.handle(e,t),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()}},{key:"getEmotionTabs",value:function(){var e=f.EmotionTabs,t=f.BaseUrl,n=f.SmileyInfor,o=[];for(var a in e){for(var r={title:e[a].name},i=[],s=n[a],l=0;l<s.length;l++){var c=(l+1).toString();c=1==c.length?"0"+c:c;var u={title:s[l],url:t+e[a].path+e[a].prefix+c+".gif?v=1.1"};i.push(u)}r.images=i,o.push(r)}return o}},{key:"render",value:function(){for(var e=[],t=this.getEmotionTabs(),n=0;n<t.length;n++)e.push({title:t[n].title,images:t[n].images,component:s.createElement(d,{images:t[n].images,name:"common-images",onSelectImage:this.handleSelectImage.bind(this)})});var o=[];return this.props.hidden?s.createElement("div",null):s.createElement(c,{ref:"root",className:"emotion-dropdwon",width:700,height:508,title:"表情",buttons:o,onClose:this.close.bind(this)},s.createElement(l,{tabs:e}))}}]),t}(s.Component);e.exports=p},517:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t;
}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(129),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e,t){this.setState({handle:t}),this.refs.root.open(e)}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e,t){this.setState({handle:t}),this.refs.root.toggle(e)}},{key:"handleSelect",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-value");this.state.handle&&this.state.handle(e,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()}},{key:"render",value:function(){var e=this.handleSelect.bind(this),t=this.props.fontfamily?this.props.fontfamily:[],n=this.props;return this.props.hidden?s.createElement("div",null):s.createElement(l,{ref:"root",className:"fontfamily-combobox"},s.createElement("ul",null,t.map(function(t,o){return s.createElement("li",{className:t.value==n.value?"active":"",key:o,"data-value":t.value,onClick:e},s.createElement("span",{"data-value":t.value,style:{fontFamily:t.value}},t.name))})))}}]),t}(s.Component);e.exports=c},518:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(129),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e,t){this.setState({handle:t}),this.refs.root.open(e)}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e,t){this.setState({handle:t}),this.refs.root.toggle(e)}},{key:"handleSelect",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-value");this.state.handle&&this.state.handle(e,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()}},{key:"render",value:function(){var e=this.handleSelect.bind(this),t=this.props.fontsize?this.props.fontsize:[],n=this.props;return this.props.hidden?s.createElement("div",null):s.createElement(l,{ref:"root",className:"fontsize-combobox"},s.createElement("ul",null,t.map(function(t,o){return s.createElement("li",{className:t.value==n.value?"active":"",key:o,"data-value":t.value,onClick:e},s.createElement("span",{"data-value":t.value,style:{fontSize:t.name}},t.name))})))}}]),t}(s.Component);e.exports=c},519:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=(n(8),n(92)),c=n(131),u=n(57),f=u.FormulaTypes,d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"handleClick",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-latex"),o="mathquill-"+(new Date).valueOf();this.props.onSelectFormula&&this.props.onSelectFormula(e,n,o)}},{key:"render",value:function(){var e=this.props.icons,t=this.handleClick.bind(this);return s.createElement("ul",{className:"formulas-icons "+this.props.name},e.map(function(e,n){return s.createElement("li",{className:"latex-icon",key:n,"data-latex":e.latex,style:{backgroundPosition:e.backgroundPosition},onClick:t})}))}}]),t}(s.Component),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e,t){this.setState({handle:t}),this.refs.root.open(e)}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e,t){this.setState({handle:t}),this.refs.root.toggle(e)}},{key:"handleSelectFormula",value:function(e,t,n){e=e||event,this.state.handle&&this.state.handle(e,t,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()}},{key:"render",value:function(){var e=[{title:"常用公式",component:s.createElement(d,{icons:f.commonFormulas,name:"common-formulas",onSelectFormula:this.handleSelectFormula.bind(this)})},{title:"符号",component:s.createElement(d,{icons:f.symbolFormulas,name:"symbol-formulas",onSelectFormula:this.handleSelectFormula.bind(this)})},{title:"字母",component:s.createElement(d,{icons:f.arabicFormulas,name:"arabic-formulas",onSelectFormula:this.handleSelectFormula.bind(this)})}];return this.props.hidden?s.createElement("div",null):s.createElement(c,{ref:"root",className:"formula-dropdown"},s.createElement(l,{tabs:e}))}}]),t}(s.Component);e.exports=p},520:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(8),c=n(130),u=n(92),f=n(528),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={images:[],dragEnter:!1},n}return r(t,e),i(t,[{key:"handleUploadFile",value:function(e){function t(l){i.uploadFile({file:l,filename:n.props.name,url:n.props.url,type:n.props.type,qiniu:n.props.qiniu,onLoad:function(e){r.style.display="block",r.innerHTML=c+1+"/"+s.length+" Uploading..."},onSuccess:function(i){r.style.display="block",r.innerHTML="Load Success",i&&"success"==i.status&&(o.push({src:i.data[a||"image_src"]}),n.setState({images:o}),n.props.onChange&&n.props.onChange(0,o)),setTimeout(function(){c+1<s.length?(c+=1,t(s[c])):(r.style.display="none",c=0,e.dropEffect||(e.value=""))},200)},onError:function(e){r.style.display="block",r.innerHTML="Load Error",setTimeout(function(){r.style.display="none"},200)}})}var n=this,o=this.state.images,a=this.props.request,r=l.findDOMNode(this.refs.mask),i=this.props.customUploader?this.props.customUploader:f,s=e.files,c=0;t(s[c])}},{key:"handleChange",value:function(e){e=e||event;var t=e.target||e.srcElement;t.files.length>0&&this.handleUploadFile(t)}},{key:"getImages",value:function(){return this.state.images}},{key:"clearImages",value:function(){this.setState({images:[]})}},{key:"handleRemoveImage",value:function(e){e=e||event;var t=e.target||e.srcElement,n=parseInt(t.getAttribute("data-index")),o=this.state.images;o.splice(n,1),this.setState({images:o}),this.props.onChange&&this.props.onChange(0,o)}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;t.length>0&&this.handleUploadFile(e.dataTransfer),this.setState({dragEnter:!1})}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDragEnter",value:function(e){this.setState({dragEnter:!0})}},{key:"handleDragLeave",value:function(e){this.setState({dragEnter:!1})}},{key:"render",value:function(){var e=this.state.images,t=this.state.dragEnter,n=this.handleRemoveImage.bind(this),o=this.props.action?this.props.action:"/upload",a={display:"block"},r={display:"none"},i=e.length>0;return s.createElement("div",{className:"tab-panel"},s.createElement("div",{className:"image-content"+(t?" drag-enter":""),onDrop:this.handleDrop.bind(this),onDragOver:this.handleDragOver.bind(this),onDragEnter:this.handleDragEnter.bind(this),onDragLeave:this.handleDragLeave.bind(this),onDragEnd:this.handleDragLeave.bind(this),onDragStart:this.handleDragEnter.bind(this)},e.map(function(e,t){return s.createElement("div",{className:"image-item"},s.createElement("div",{className:"image-close","data-index":t,onClick:n}),s.createElement("img",{src:e.src,className:"image-pic",height:"75",width:"120"}))}),s.createElement("div",{className:"image-upload2",style:i?a:r},s.createElement("span",{className:"image-icon"}),s.createElement("form",{className:"image-form",method:"post",encType:"multipart/form-data",target:"up",action:o},s.createElement("input",{onChange:this.handleChange.bind(this),multiple:"multiple",style:{filter:"alpha(opacity=0)"},className:"image-file",type:"file",name:"file",accept:"image/gif,image/jpeg,image/png,image/jpg,image/bmp"})))),s.createElement("div",{className:"image-dragTip",style:i?r:a},"支持图片拖拽上传"),s.createElement("div",{className:"image-upload1",style:i?r:a},s.createElement("span",{className:"image-icon"}),s.createElement("form",{className:"image-form",method:"post",encType:"multipart/form-data",target:"up",action:o},s.createElement("input",{onChange:this.handleChange.bind(this),multiple:"multiple",style:{filter:"alpha(opacity=0)"},className:"image-file",type:"file",name:"file",accept:"image/gif,image/jpeg,image/png,image/jpg,image/bmp"}))),s.createElement("div",{className:"image-mask",ref:"mask"},"Loading...."))}}]),t}(s.Component),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={images:[]},n}return r(t,e),i(t,[{key:"getImages",value:function(){return this.state.images}},{key:"clearImages",value:function(){this.setState({images:[]})}},{key:"handleClick",value:function(e){var t=l.findDOMNode(this.refs.text),n=t.value,o=this.state.images;n&&n.length>0&&(o.push({src:n}),this.setState({images:o}),this.props.onChange&&this.props.onChange(1,o),t.value="")}},{key:"handleRemoveImage",value:function(e){e=e||event;var t=e.target||e.srcElement,n=parseInt(t.getAttribute("data-index")),o=this.state.images;o.splice(n,1),this.setState({images:o})}},{key:"render",value:function(){var e=this.state.images,t=this.handleRemoveImage.bind(this);return s.createElement("div",{className:"tab-panel"},s.createElement("table",{className:"search-bar"},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",null,s.createElement("input",{className:"image-searchTxt",type:"text",ref:"text"})),s.createElement("td",null,s.createElement("div",{className:"image-searchAdd",onClick:this.handleClick.bind(this)},"添加"))))),s.createElement("div",{className:"image-content"},e.map(function(e,n){return s.createElement("div",{key:n,className:"image-item"},s.createElement("div",{className:"image-close","data-index":n,onClick:t}),s.createElement("img",{src:e.src,className:"image-pic",height:"75",width:"120"}))})))}}]),t}(s.Component),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={images:[[],[]],handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e){this.setState({handle:e}),this.refs.modal.open()}},{key:"close",value:function(){this.refs.modal&&(this.refs.modal.close(),this.state.handle&&this.state.handle(),this.refs.image.clearImages())}},{key:"toggle",value:function(e){this.setState({handle:e}),this.refs.modal.toggle()}},{key:"handleOkClick",value:function(e){var t=this.refs.tab.getTabIndex(),n=this.state.images[t],o="";if(n.length>0&&this.state.handle){for(var a=0;a<n.length;a++){var r=n[a].src,i="<img src='"+r+"' />";o+=i}this.state.handle(e,o)}this.close()}},{key:"handleChange",value:function(e,t){var n=this.state.images;n[e]=t,this.setState({images:n})}},{key:"render",value:function(){var e=this.props.uploader,t=[{name:"btn-ok",content:"确定",onClick:this.handleOkClick.bind(this)},{name:"btn-cancel",content:"取消",onClick:this.close.bind(this)}],n=[{title:"本地上传",component:s.createElement(d,{ref:"image",onChange:this.handleChange.bind(this),request:e.request,type:e.type,name:e.name,url:e.url,qiniu:e.qiniu})},{title:"网络图片",component:s.createElement(p,{ref:"image",onChange:this.handleChange.bind(this)})}];return this.props.hidden?s.createElement("div",null):s.createElement(c,{ref:"modal",className:"image-dialog",width:700,height:508,title:"图片",buttons:t,onClose:this.close.bind(this)},s.createElement(u,{tabs:n,ref:"tab"}))}}]),t}(s.Component);h.propTypes={uploader:s.PropTypes.object,customUploader:s.PropTypes.object},h.defaultProps={uploader:{type:"default",name:"file",url:"/upload",request:"image_src",qiniu:{app:{bucket:"qtestbucket",ak:"iN7NgwM31j4-BZacMjPrOQBs34UG1maYCAQmhdCV",sk:"6QTOr2Jg1gcZEWDQXKOGZh5PziC2MCV5KsntT70j"},key:null,upload_token:null}}},e.exports=h},521:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(129),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e,t){this.setState({handle:t}),this.refs.root.open(e)}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e,t){this.setState({handle:t}),this.refs.root.toggle(e)}},{key:"handleSelect",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-value");this.state.handle&&this.state.handle(e,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()}},{key:"render",value:function(){var e=this.handleSelect.bind(this),t=this.props.paragraph?this.props.paragraph:[],n=this.props;return this.props.hidden?s.createElement("div",null):s.createElement(l,{ref:"root",className:"paragraph-combobox"},s.createElement("ul",null,t.map(function(t,o){return s.createElement("li",{className:t.value==n.value?"active":"",key:o,"data-value":t.value,onClick:e},s.createElement(t.value,{"data-value":t.value},t.name))})))}}]),t}(s.Component);e.exports=c},522:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=(n(8),n(92)),c=n(130),u=n(57),f=u.SpecialChars,d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"handleClick",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getAttribute("data-char");"char-"+(new Date).valueOf();this.props.onSelectChar&&this.props.onSelectChar(e,n)}},{key:"render",value:function(){var e=this.props.chars,t=this.handleClick.bind(this);return s.createElement("ul",{className:"special-chars "+this.props.name},e.map(function(e,n){return s.createElement("li",{className:"special-char",key:n,"data-char":e,onClick:t},e)}))}}]),t}(s.Component),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e){this.setState({handle:e}),this.refs.root.open()}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e){this.setState({handle:e}),this.refs.root.toggle()}},{key:"handleSelectChar",value:function(e,t){e=e||event,this.state.handle&&this.state.handle(e,t),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.close()}},{key:"render",value:function(){for(var e=[],t=0;t<f.length;t++)e.push({title:f[t].title,chars:f[t].chars,component:s.createElement(d,{chars:f[t].chars,name:"common-chars",onSelectChar:this.handleSelectChar.bind(this)})});var n=[];return this.props.hidden?s.createElement("div",null):s.createElement(c,{ref:"root",className:"special-chars-dialog",width:700,height:508,title:"特殊字符",buttons:n,onClose:this.close.bind(this)},s.createElement(l,{tabs:e}))}}]),t}(s.Component);e.exports=p},523:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(131),c=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={row:0,column:0,handle:function(){}},n}return r(t,e),i(t,[{key:"open",value:function(e,t){this.setState({handle:t}),this.refs.root.open(e)}},{key:"close",value:function(){this.refs.root&&this.refs.root.close()}},{key:"toggle",value:function(e,t){this.setState({handle:t}),this.refs.root.toggle(e)}},{key:"handleMouseEvent",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.getBoundingClientRect(),o=Math.ceil((e.clientX-n.left)/22),a=Math.ceil((e.clientY-n.top)/22);o<0&&(o=0),a<0&&(a=0),o>10&&(o=10),a>10&&(a=10),this.setState({row:o,column:a})}},{key:"handleMouseOut",value:function(e){this.setState({row:0,column:0})}},{key:"handleClick",value:function(e){var t=document.createElement("table");t.className="editor-table";for(var n=t.createTBody(),o=0;o<this.state.row;o++)for(var a=n.insertRow(),r=0;r<this.state.column;r++){var i=a.insertCell();i.width=200}this.state.handle(e,t),this.refs.root.close()}},{key:"render",value:function(){var e=this.state.row,t=this.state.column;return this.props.hidden?s.createElement("div",null):s.createElement(l,{ref:"root",className:"tablepicker-dropdown"},s.createElement("div",{className:"infoarea"}," ",s.createElement("span",null,t+"列 x "+e+"行")),s.createElement("div",{className:"pickarea",onMouseOver:this.handleMouseEvent.bind(this),onMouseMove:this.handleMouseEvent.bind(this),onMouseOut:this.handleMouseOut.bind(this),onClick:this.handleClick.bind(this)},s.createElement("div",{className:"overlay",style:{width:22*e,height:22*t}})))}}]),t}(s.Component);e.exports=c},524:function(e,t,n){"use strict";function o(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(397);var c=n(1),u=(n(8),n(511)),f=n(525);Date.prototype.Format||(Date.prototype.Format=function(e){var t,n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in n)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e});var d=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loaded:!1,reload:!0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.index=f.editorSum,f.addStartListener("start-"+this.index,this.handleChange.bind(this))}},{key:"componentWillUnmount",value:function(){var e=this.index;f.removeStartListener("start-"+e,this.handleChange.bind(this))}},{key:"componentDidUpdate",value:function(){this.state.loaded&&this.state.reload&&this.refs.editor.setContent(this.props.value||this.props.defaultValue)}},{key:"handleChange",value:function(){this.setState({loaded:!0})}},{key:"handleMountSuccess",value:function(){f.mountEditorSuccess()}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.value,o=this.getContent();return this.state.loaded!=t.loaded||n!=o}},{key:"getContent",value:function(){return this.refs.editor?this.refs.editor.getContent():""}},{key:"setContent",value:function(e){return this.refs.editor?this.refs.editor.setContent(e):""}},{key:"focusEditor",value:function(){return this.refs.editor?this.refs.editor.focusEditor():""}},{key:"findDOMNode",value:function(e){return this.refs.editor?this.refs.editor.findDOMNode(e):""}},{key:"render",value:function(){var e=(this.state.loaded,this.props),t=(e.value,e.defaultValue,o(e,["value","defaultValue"]));return this.state.loaded?c.createElement(u,s({ref:"editor"},t,{onEditorMount:this.handleMountSuccess.bind(this)})):c.createElement("div",{id:t.id,className:"editor-contenteditable-div",style:{minHeight:"30px",border:"1px solid #ddd"}},"正在加载...")}}]),t}(c.Component);d.propTypes={plugins:c.PropTypes.object,fontFamily:c.PropTypes.array,fontSize:c.PropTypes.array,paragraph:c.PropTypes.array,icons:c.PropTypes.arrayOf(c.PropTypes.string),value:c.PropTypes.string,defaultValue:c.PropTypes.string},d.defaultProps={plugins:{image:{uploader:{type:"default",name:"file",url:"/upload",qiniu:{app:{Bucket:"qtestbucket",AK:"iN7NgwM31j4-BZacMjPrOQBs34UG1maYCAQmhdCV",SK:"6QTOr2Jg1gcZEWDQXKOGZh5PziC2MCV5KsntT70j"},key:null,upload_token:null,domain:"http://o9sa2vijj.bkt.clouddn.com",genKey:function(e){return e.file.type+"-"+e.file.size+"-"+e.file.lastModifiedDate.valueOf()+"-"+(new Date).valueOf()+"-"+e.file.name}}}}},fontFamily:[{name:"宋体",value:"宋体, SimSun",defualt:!0},{name:"隶书",value:"隶书, SimLi"},{name:"楷体",value:"楷体, SimKai"},{name:"微软雅黑",value:"微软雅黑, Microsoft YaHei"},{name:"黑体",value:"黑体, SimHei"},{name:"arial",value:"arial, helvetica, sans-serif"},{name:"arial black",value:"arial black, avant garde"},{name:"omic sans ms",value:"omic sans ms"},{name:"impact",value:"impact, chicago"},{name:"times new roman",value:"times new roman"},{name:"andale mono",value:"andale mono"}],fontSize:[{name:"10px",value:"1"},{name:"12px",value:"2"},{name:"16px",value:"3",defualt:!0},{name:"18px",value:"4"},{name:"24px",value:"5"},{name:"32px",value:"6"},{name:"38px",value:"7"}],paragraph:[{name:"段落",value:"p",defualt:!0},{name:"标题1",value:"h1"},{name:"标题2",value:"h2"},{name:"标题3",value:"h3"},{name:"标题4",value:"h4"},{name:"标题5",value:"h5"},{name:"标题6",value:"h6"}],icons:["source | undo redo | bold italic underline strikethrough fontborder emphasis | ","paragraph fontfamily fontsize | superscript subscript | ","forecolor backcolor | removeformat | insertorderedlist insertunorderedlist | selectall | ","cleardoc  | indent outdent | justifyleft justifycenter justifyright | touppercase tolowercase | ","horizontal date time  | image emotion spechars | inserttable"],value:"",defaultValue:"<p>This is an Editor</p>"},e.exports=d},525:function(e,t,n){"use strict";var o=n(373).EventEmitter,a=n(15),r=a({},o.prototype,{editorSum:0,editorStack:[],isStart:!1,startTime:null,addStartListener:function(e,t){0==this.editorStack.length&&0==this.isStart&&(this.startTime=this.startTime||new Date),this.editorSum=this.editorSum+1,this.editorStack.push(e),this.on(e,t),this.emitNextListener()},removeStartListener:function(e,t){this.removeListener(e,t);var n=this.editorStack.indexOf(e);this.editorStack.splice(n,1)},mountEditorSuccess:function(){this.isStart=!1,this.emitNextListener()},emitNextListener:function(){if(0==this.editorStack.length)this.isStart=!1;else if(0==this.isStart){this.isStart=!0;var e=this.editorStack.shift();this.emit(e);new Date;this.startTime=this.startTime||new Date}}});r.setMaxListeners(1e3),e.exports=r},526:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=n(8),c=n(58),u=12,f=12,d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={target:null,position:{x:0,y:0},width:0,height:0,startPosition:{x:0,y:0},curPosition:{x:0,y:0}},n}return r(t,e),i(t,[{key:"setTarget",value:function(e){var t=l.findDOMNode(this.refs.root),n=c.getOffsetRootParentPosition(e,t.parentElement),o=n.w,a=n.h,r={x:n.x,y:n.y};this.setState({target:e,width:o,height:a,show:!0,position:r})}},{key:"getTarget",value:function(){return this.state.target}},{key:"clearTarget",value:function(){this.setState({target:null,show:!1})}},{key:"clearSelect",value:function(e){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}},{key:"getMousePosition",value:function(e){e=e||window.event;var t=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,o=parseFloat(e.pageX||e.clientX+t),a=parseFloat(e.pageY||e.clientY+n);return{x:o,y:a}}},{key:"handleMouseDown",value:function(e){e=e||event;var t=e.target||e.srcElement,n=t.className,o=this.getMousePosition(e);this.clearSelect(),n.indexOf("nw-resize")!=-1&&this.setState({direction:"nw-resize",startPosition:o}),n.indexOf("ne-resize")!=-1&&this.setState({direction:"ne-resize",startPosition:o}),n.indexOf("sw-resize")!=-1&&this.setState({direction:"sw-resize",startPosition:o}),n.indexOf("se-resize")!=-1&&this.setState({direction:"se-resize",startPosition:o}),window.removeEventListener("mouseup",this.handleMouseUp.bind(this)),window.removeEventListener("mousemove",this.handleMouseMove.bind(this)),window.addEventListener("mouseup",this.handleMouseUp.bind(this)),window.addEventListener("mousemove",this.handleMouseMove.bind(this)),c.stopPropagation(e)}},{key:"handleMouseMove",value:function(e){if(this.state.direction){this.clearSelect(),e=e||event;var t=(e.target||e.srcElement,this.getMousePosition(e)),n=this.state.startPosition,o=t.x-n.x,a=t.y-n.y,r=this.state.width,i=this.state.height;switch(this.state.direction){case"nw-resize":r-=o,i-=a;break;case"ne-resize":r+=o,i-=a;break;case"sw-resize":r-=o,i+=a;break;case"se-resize":r+=o,i+=a}n=t,r<u&&(r=u),i<f&&(i=f),this.state.target&&(this.state.target.style.width=r+"px",this.state.target.style.height=i+"px"),this.setState({startPosition:n,width:r,height:i}),c.stopPropagation(e)}}},{key:"handleMouseUp",value:function(e){if(this.state.direction){this.clearSelect(),e=e||event;var t=(e.target||e.srcElement,this.getMousePosition(e)),n=this.state.startPosition,o=t.x-n.x,a=t.y-n.y,r=this.state.width,i=this.state.height;switch(this.state.direction){case"nw-resize":r-=o,i-=a;break;case"ne-resize":r+=o,i-=a;break;case"sw-resize":r-=o,i+=a;break;case"se-resize":r+=o,i+=a}n=t,r<u&&(r=u),i<f&&(i=f),window.removeEventListener("mouseup",this.handleMouseUp.bind(this)),window.removeEventListener("mousemove",this.handleMouseMove.bind(this)),this.state.target&&(this.state.target.style.width=r+"px",this.state.target.style.height=i+"px"),this.setState({startPosition:n,height:i,width:r,direction:null}),c.stopPropagation(e)}}},{key:"render",value:function(){var e={width:this.state.width,height:this.state.height,left:this.state.position.x,top:this.state.position.y,display:this.state.show?"block":"none",positoin:"absolute"};return s.createElement("div",{className:"editor-resize-container",ref:"root"},s.createElement("div",{className:"editor-resize",style:e},s.createElement("div",{className:"block-resize nw-resize",onMouseDown:this.handleMouseDown.bind(this),
onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this)}),s.createElement("div",{className:"block-resize ne-resize",onMouseDown:this.handleMouseDown.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this)}),s.createElement("div",{className:"block-resize sw-resize",onMouseDown:this.handleMouseDown.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this)}),s.createElement("div",{className:"block-resize se-resize",onMouseDown:this.handleMouseDown.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this)})))}}]),t}(s.Component);e.exports=d},527:function(e,t){"use strict";var n=1e3/60;window.requestAnimationFrame||(window.requestAnimationFrame=function(e){setTimeout(e,n)});var o=[],a=[],r=[],i=!1,s=0,l={addCount:function(){s+=1},setTimeout:function(e,t){return e.prototype.ms=t?t:n,e.prototype.key="timeout"+(new Date).valueOf()+"-"+Math.round(1e3*Math.random()),e.prototype.startTime=(new Date).valueOf(),e.prototype.endTime=(new Date).valueOf(),o.push(e),e.prototype.key},clearTimeout:function(e){var t=o.filter(function(t,n){return t.prototype.key==e});if(t.length>0){var n=o.indexOf(t[0]);return n!=-1&&(o.disabled=!0),t[0]}return null},setInterval:function(e,t){return e.prototype.ms=t?t:n,e.prototype.key="interval"+(new Date).valueOf()+"-"+Math.round(1e3*Math.random()),e.prototype.startTime=(new Date).valueOf(),e.prototype.endTime=(new Date).valueOf(),e.prototype.lastTime=(new Date).valueOf(),a.push(e),e.prototype.key},clearInterval:function(e){var t=a.filter(function(t,n){return t.prototype.key==e});if(t.length>0){var n=a.indexOf(t[0]);return n!=-1&&(a.disabled=!0),t[0]}return null},animate:function(e){if(window.requestAnimationFrame(l.animate),i){for(var t=0;t<r.length;t++)r[t]({count:s});l.addCount()}for(var t=0;t<o.length;t++)o[t].prototype.endTime=(new Date).valueOf(),o[t].prototype.endTime-o[t].prototype.startTime>=o[t].prototype.ms&&!o[t].prototype.disabled&&(o[t].prototype.disabled=!0,o[t].call(o[t].prototype,o[t].prototype.endTime));for(var t=0;t<a.length;t++)a[t].prototype.endTime=(new Date).valueOf(),a[t].prototype.endTime-a[t].prototype.lastTime>=a[t].prototype.ms&&!a[t].prototype.disabled&&(a[t].prototype.lastTime=a[t].prototype.endTime,a[t].call(a[t].prototype,a[t].prototype.endTime));o=o.filter(function(e,t){return!e.prototype.disabled}),a=a.filter(function(e,t){return!e.prototype.disabled})},startAnimation:function(){i=!0},stopAnimation:function(){i=!1},addAnimationHandler:function(e){var t=i;l.stopAnimation(e),window.requestAnimationFrame(function(){r.push(e),t&&l.startAnimation(e)})},removeAnimationHandler:function(e){var t=i;l.stopAnimation(e),window.requestAnimationFrame(function(){var n=r.indexOf(e);n!=-1&&r.splice(e,n),t&&l.startAnimation(e)})}};l.animate(),e.exports=l},528:function(e,t,n){"use strict";var o=n(529),a=function(e,t){var n="cannot post "+e.url+":"+t.status,o=new Error(n);return o.status=t.status,o.method="post",o.url=e.url,o},r=function(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}},i={post:function(e){if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onLoad(t)});var n=new FormData;if(e.data)for(var i in e.data)n.append(i,e.data[i]);if("qiniu"==e.type){var s=e.qiniu.key||e.qiniu.genKey(e);n.append("token",e.qiniu.upload_token?e.qiniu.upload_token:o.Utils.genUploadToken(s,e.qiniu.app)),e.qiniu.key&&n.append("key",e.qiniu.key),e.filename="file"}n.append(e.filename,e.file),t.onerror=function(t){e.onEnd(t),e.onError(t)},t.onload=function(n){if(200!==t.status)return e.onEnd(n),e.onError(a(e,t),r(t));if(e.onEnd(n),"qiniu"==e.type){var o=r(t),i={status:"success",data:{image_src:e.qiniu.domain+"/"+o.key}};e.onSuccess(i)}else e.onSuccess(r(t))},t.open("post",e.url,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(n)}}};e.exports={uploadFile:function(e){e.url=e.url||"/upload",e.filename=e.filename||"file",e.beforeUpload=e.beforeUpload||function(e){return!0},e.onSuccess=e.onSuccess||function(e){},e.onError=e.onError||function(e){},e.onLoad=e.onLoad||function(e){},e.onStart=e.onStart||function(e){},e.onEnd=e.onEnd||function(e){},e.beforeUpload(e)&&(e.onStart(e),i.post(e))},uploadFiles:function(e){}}},529:function(e,t,n){"use strict";var o=n(405),a={Bucket:"qtestbucket",AK:"iN7NgwM31j4-BZacMjPrOQBs34UG1maYCAQmhdCV",SK:"6QTOr2Jg1gcZEWDQXKOGZh5PziC2MCV5KsntT70j"},r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",i={utf16to8:function(e){var t,n,o,a;for(t="",o=e.length,n=0;n<o;n++)a=e.charCodeAt(n),a>=1&&a<=127?t+=e.charAt(n):a>2047?(t+=String.fromCharCode(224|a>>12&15),t+=String.fromCharCode(128|a>>6&63),t+=String.fromCharCode(128|a>>0&63)):(t+=String.fromCharCode(192|a>>6&31),t+=String.fromCharCode(128|a>>0&63));return t},utf8to16:function(e){var t,n,o,a,r,i;for(t="",o=e.length,n=0;n<o;)switch(a=e.charCodeAt(n++),a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:r=e.charCodeAt(n++),t+=String.fromCharCode((31&a)<<6|63&r);break;case 14:r=e.charCodeAt(n++),i=e.charCodeAt(n++),t+=String.fromCharCode((15&a)<<12|(63&r)<<6|(63&i)<<0)}return t},base64encode:function(e){var t,n,o,a,i,s;for(o=e.length,n=0,t="";n<o;){if(a=255&e.charCodeAt(n++),n==o){t+=r.charAt(a>>2),t+=r.charAt((3&a)<<4),t+="==";break}if(i=e.charCodeAt(n++),n==o){t+=r.charAt(a>>2),t+=r.charAt((3&a)<<4|(240&i)>>4),t+=r.charAt((15&i)<<2),t+="=";break}s=e.charCodeAt(n++),t+=r.charAt(a>>2),t+=r.charAt((3&a)<<4|(240&i)>>4),t+=r.charAt((15&i)<<2|(192&s)>>6),t+=r.charAt(63&s)}return t},safe64:function(e){return e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_")}},s={genPutPolicy:function(e,t,n,o){return{scope:t?e:e+":"+t,deadline:n?n:(new Date).valueOf()+86400,returnBody:o?o:'{"key": $(key), "hash": $(etag), "w": $(imageInfo.width), "h": $(imageInfo.height)}'}},genToken:function(e,t,n){var a=JSON.stringify(n),r=i.base64encode(i.utf16to8(a)),s=o(t,r),l=e+":"+i.safe64(s)+":"+r;return l},genUploadToken:function(e,t){var t=t?t:a;return s.genToken(t.AK,t.SK,s.genPutPolicy(t.Bucket,e))}};e.exports={Utils:s}},549:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(){return["source | undo redo | bold italic underline strikethrough fontborder | ","paragraph fontfamily fontsize | ","forecolor backcolor | removeformat | insertorderedlist insertunorderedlist | selectall | ","cleardoc  | indent outdent | justifyleft justifycenter justifyright | touppercase tolowercase | ","horizontal date time  | image | inserttable"]}function i(){return{url:"/api/upload",name:"file",request:"url"}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=(n(17),n(14)),u=a(c),f=(n(21),n(25)),d=a(f),p=n(12),h=a(p),m=n(2),g=a(m),v=n(11),b=a(v),y=n(4),k=a(y),x=n(3),w=a(x),E=(n(49),n(34)),O=a(E),C=(n(31),n(30)),N=a(C),S=n(1),P=a(S),_=n(19),T=a(_),M=n(16),j=n(524),R=a(j),L=n(29),D=o(L),z=n(59),A=a(z),I=N.default.Item,H=O.default.Group,U=n(574),F=(n(575),n(576),n(577),[{label:"土豪榜",value:"rich"},{label:"手气榜",value:"lucky"},{label:"分享榜",value:"share"}]),B=(s=(0,M.connect)(function(e,t){return{type:t.params.type}},{liveActions:D}),s(l=function(e){function t(e){(0,g.default)(this,t);var n=(0,k.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return n.handleSubmit=function(e){e.preventDefault(),console.log(n.state)},n.handleTitleChange=function(e){console.log(e.target.value),n.setState({title:e.target.value})},n.onTabsChange=function(e){console.log(e.target.value),n.setState({title:e.target.value})},n.handleEditorChange=function(e){var t=n.props.type;if("menu2"!==t&&"menu4"!==t){var o=n.refs.editor.getContent();n.setState({content:o}),console.log(e)}},n.state={title:"",content:""},n}return(0,w.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){console.log(this.props.type)}},{key:"render",value:function(){var e={image:{uploader:i()}},t=this.props.type;return P.default.createElement("div",{className:"live-menu wrap-box"},P.default.createElement(T.default,{title:"菜单设置-创建直播"}),P.default.createElement(A.default,null),P.default.createElement("div",{className:"wrap-box-title bg-gray"},P.default.createElement("span",{className:"title"},"菜单设置")),P.default.createElement("div",{className:"wrap-box-body bg-white clearfix pd20"},P.default.createElement("div",{className:"clearfix mb20"},P.default.createElement("div",{className:"menu-box-left pull-left",style:{width:"600px"}},P.default.createElement(I,{label:"标题",labelCol:{span:3},wrapperCol:{span:8},required:!0},P.default.createElement(d.default,{onChange:this.handleTitleChange})),("menu2"===t||"menu4"===t)&&P.default.createElement(I,{label:"内容",labelCol:{span:3},wrapperCol:{span:20},required:!0},P.default.createElement(R.default,{ref:"editor",icons:r(),defaultValue:"<p>请输入菜单内容</p>",plugins:e,onChange:this.handleEditorChange,value:this.state.content})),"menu3"===t&&P.default.createElement(I,{wrapperCol:{span:6,offset:3}},P.default.createElement(H,{className:"vertical-checkbox",options:F,onChange:this.onTabsChange}))),P.default.createElement("img",{src:U,className:"pull-left",alt:"示例图片"})),P.default.createElement("hr",{className:"hr-normal mt20 mb20"}),P.default.createElement("p",{className:"text-center"},P.default.createElement(u.default,{size:"large",type:"primary",htmlType:"submit",onClick:this.handleSubmit},"提交"))))}}]),t}(S.Component))||l);t.default=B,e.exports=t.default},574:function(e,t,n){e.exports=n.p+"dc1f7fb0b5f4f9ae5dc06e1f8c6c5a1e.png"},575:function(e,t,n){e.exports=n.p+"456c3ff7b9d54bb62c0092009585001c.png"},576:function(e,t,n){e.exports=n.p+"af319a9299beefedd97a738ad358192b.png"},577:function(e,t,n){e.exports=n.p+"a9562f7571b3b9c1dc67e76e364fd527.png"}});